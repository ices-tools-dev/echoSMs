rem	B1.5.1 prediction filter BASIC COMPLIERrem	prediction operationrem 	read files of signal to be filtered and the filter.rem	The file format is the reverberation format.	DIM x(1000), p(1000), e(1000), f(100)	REM     SCREEN IS 492 BY 300 PIXELS		X0%=20 :Y0%=20: XL%= 480: YL%=280		print"read signal file for input"	print"give file name":input n1$	open n1$ for input as #1	 	input #1, w$	input #1, HK,CK,DK,T0	input #1, w1$	input #1, RR	input #1, NT		FOR n = 0 TO nt	    input #1, x(n)	NEXT n	close #1	rem	read filter coefficients file  	print"give file name":input n2$	open n2$ for input as #2	 		input #2, w2$	input #2, w3$	input #2, w4$	input #2, w5$	input #2, HK,CK,DK,T0	input #2, w6$	input #2, RR	input #2, j1 	input #2, li	input #2, pa	FOR n = 0 TO li	    input #2, f(n)	next n		close #2	rem	prediction operation	for n = 0 to pa	    p(n) = x(n)	next n		for n = pa to nt	    sum = 0	    for j = 0 to j1	        fx = 0	        k = n-j		if k >= 0 then fx = f(j) * x(k)		sum = sum + fx	    next j	    	    e(n + pa) = x(n+pa) - sum	    p(n + pa) = sum	next n	rem 	Prediction operation is finished.rem	plot signals		YS = (YL%-Y0%) / 4        TSC = (XL%-XO%) / (nt+1)	100	print"input amplitude factors for x(n), p(n) and e(n)";	input xamp, pamp,eamp		xmp = xamp * YS: pmp = YS * pamp: emp = eamp * YS		cls		for n = 0 to nt	    T% = int (n * TSC +X0%)	    T1% = int ((n+1) * TSC +X0%)	    YX% = int (YS - xmp * x(n))            YX1% = int (YS - xmp * x(n+1))	    LINE (T%,YX%) - (T1%,YX1%)	next n		for n = 0 to nt	    T% = int (n * TSC +X0%)	    T1% = int ((n+1) * TSC +X0%)	   	    	    YP% = int (2 * YS - pmp * p(n))            YP1% = int (2 * YS - pmp * p(n+1))	    LINE (T%,YP%) - (T1%,YP1%)	next n		for n = 0 to nt	    T% = int (n * TSC +X0%)	    T1% = int ((n+1) * TSC +X0%)	   	   	     	    YE% = int (3 * YS - emp * e(n))            YE1% = int (3 * YS - emp * e(n+1))	    LINE (T%,YE%) - (T1%,YE1%)	next n		INPUT Q$ 	PRINT" NEW PLOT y or n";:INPUT Q$	IF Q$ = "y" OR Q$ = "Y" GOTO 100    	END	