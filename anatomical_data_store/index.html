
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://ices-tools-dev.github.io/echoSMs/anatomical_data_store/">
      
      
        <link rel="prev" href="../datastore_intro/">
      
      
        <link rel="next" href="../schema/data_store_schema/">
      
      
      <link rel="icon" href="../resources/echoSMs_logo_auto_colour.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Data structures - echoSMs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#anatomical-data-store" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="echoSMs" class="md-header__button md-logo" aria-label="echoSMs" data-md-component="logo">
      
  <img src="../resources/echoSMs_logo_auto_colour.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            echoSMs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Data structures
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/ices-tools-dev/echoSMs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="echoSMs" class="md-nav__button md-logo" aria-label="echoSMs" data-md-component="logo">
      
  <img src="../resources/echoSMs_logo_auto_colour.svg" alt="logo">

    </a>
    echoSMs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ices-tools-dev/echoSMs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using echoSMs
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../developing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Developing echoSMs
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../conventions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Conventions
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../benchmark_data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Benchmarks
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API reference
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../historical_notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Historical notes
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../other_software/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Other software
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Anatomical data store
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Anatomical data store
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../datastore_intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Data structures
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Data structures
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#data-store-contents-and-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Data store contents and structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preparing-datasets-for-the-datastore" class="md-nav__link">
    <span class="md-ellipsis">
      Preparing datasets for the datastore
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-formats" class="md-nav__link">
    <span class="md-ellipsis">
      Data formats
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data formats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#raw-files" class="md-nav__link">
    <span class="md-ellipsis">
      Raw files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#processing-files" class="md-nav__link">
    <span class="md-ellipsis">
      Processing files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dataset-and-model-data" class="md-nav__link">
    <span class="md-ellipsis">
      Dataset and model data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shapes" class="md-nav__link">
    <span class="md-ellipsis">
      Shapes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Shapes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#shape-data-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Shape data structure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Shape data structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#surface" class="md-nav__link">
    <span class="md-ellipsis">
      Surface
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outline" class="md-nav__link">
    <span class="md-ellipsis">
      Outline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#voxels" class="md-nav__link">
    <span class="md-ellipsis">
      Voxels
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#categorised-voxels" class="md-nav__link">
    <span class="md-ellipsis">
      Categorised voxels
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../schema/data_store_schema/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Schema
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../datastoreAPI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Web API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data_store_models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using with echoSMs
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#data-store-contents-and-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Data store contents and structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preparing-datasets-for-the-datastore" class="md-nav__link">
    <span class="md-ellipsis">
      Preparing datasets for the datastore
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-formats" class="md-nav__link">
    <span class="md-ellipsis">
      Data formats
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data formats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#raw-files" class="md-nav__link">
    <span class="md-ellipsis">
      Raw files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#processing-files" class="md-nav__link">
    <span class="md-ellipsis">
      Processing files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dataset-and-model-data" class="md-nav__link">
    <span class="md-ellipsis">
      Dataset and model data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shapes" class="md-nav__link">
    <span class="md-ellipsis">
      Shapes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Shapes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#shape-data-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Shape data structure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Shape data structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#surface" class="md-nav__link">
    <span class="md-ellipsis">
      Surface
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outline" class="md-nav__link">
    <span class="md-ellipsis">
      Outline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#voxels" class="md-nav__link">
    <span class="md-ellipsis">
      Voxels
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#categorised-voxels" class="md-nav__link">
    <span class="md-ellipsis">
      Categorised voxels
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  
    
      
    
    <a href="https://github.com/ices-tools-dev/echoSMs/raw/main/docs/anatomical_data_store.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="anatomical-data-store">Anatomical data store</h1>
<details class="note" open="open">
<summary>Note</summary>
<p>This page contains the draft specification and documentation for the echoSMs anatomical datastore. It is a work in progress.</p>
</details>
<h2 id="data-store-contents-and-structure">Data store contents and structure</h2>
<p>The datastore contains many datasets, where each dataset comprises the following:</p>
<ol>
<li>Metadata</li>
<li>Input data to scattering models (material properties, 3D shapes, and other model parameters)</li>
<li>Optionally, raw data files that were used to produce the scattering model input data (e.g., binary files, such as x-ray and photographic images, MRI &amp; CT scan files, etc)</li>
<li>Optionally, processing files (programs, notes, intermediate data files, etc)</li>
</ol>
<p>Each dataset may contain information about more than one organism but can only contain data from a single species.</p>
<p>The dataset metadata and model data have prescribed formats that are designed for convenient access via a <a href="https://en.wikipedia.org/wiki/REST">RESTful</a> API and for inputting to scattering models.</p>
<p>The raw data and processing file formats and layout are unconstrained and are accessible via the RESTful API as a zipped download and a browsable directory hierarchy.</p>
<p>Model outputs are not stored.</p>
<h2 id="preparing-datasets-for-the-datastore">Preparing datasets for the datastore</h2>
<p>A dataset ready for uploading to the datastore should contain the following files and directory structures, bundled into a single zip file:</p>
<table>
<thead>
<tr>
<th>Path</th>
<th>File(s)</th>
<th>Required</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td>/</td>
<td>metadata.toml</td>
<td>yes</td>
<td>Dataset metadata in TOML format. This file can include specimen and model data. The file name must be <code>metadata.toml</code></td>
</tr>
<tr>
<td>/</td>
<td>specimen*.toml</td>
<td>no</td>
<td>Specimen and model data in one or more TOML-formatted files. File names must start with <code>specimen</code> and have a suffix of <code>.toml</code>. These files are simply appended to the metadata.toml file when reading the dataset data.</td>
</tr>
<tr>
<td>/data</td>
<td>Any</td>
<td>no</td>
<td>Raw and processing files in user-supplied directory hierarchy</td>
</tr>
</tbody>
</table>
<p>There is currently no automated way to upload datasets to the datastore - it is a manual process - raise an <a href="https://github.com/ices-tools-dev/echoSMs/issues">issue</a> on Github or contact Gavin Macaulay to have datasets uploaded.</p>
<h2 id="data-formats">Data formats</h2>
<h3 id="raw-files">Raw files</h3>
<p>Raw data formats are not directly used by scattering models so do not need to be formatted for direct use in scattering models. Raw data typically includes images (e.g., png, tiff, jpg), imaging system files (e.g., CT, MRI, and x-ray – such as DICOM or sets of 2D images), and other more ad-hoc data (e.g., spreadsheets, csv files). Text-based file formats are preferred for their long-term usability, but well-defined and accessible binary formats are acceptable (e.g., common image formats and DICOM).</p>
<h3 id="processing-files">Processing files</h3>
<p>A preference for text file formats, then common binary formats (e.g, for images), then other binary formats with documentation. The aim here is to make the information readily accessible in the future without the use of specialised software.</p>
<h3 id="dataset-and-model-data">Dataset and model data</h3>
<p>The dataset metadata includes information about the species, the collection and processing of specimens used in scattering models, links to published work, and other context. These are intended to provide information for users to assess the quality, usability, and suitability of a particular dataset.</p>
<p>Associated with each dataset are data about one or more specimens. This includes basic information about the specimen(s) (e.g., length and weight), along with the three-dimensional shape information required by acoustic scattering models. Note that a specimen is not necessarily a whole organism - the data structure allows for a specimen to be some part of the organism (e.g., swimbladder, organs, etc)</p>
<p>The dataset contents are specified by a <a href="https://json-schema.org/">JSON schema</a> file stored in the echoSMs <a href="https://github.com/ices-tools-dev/echoSMs/blob/main/data_store/schema/v1/anatomical_data_store.json">github repository</a>. The schema documents the required attributes, their structure, valid values, etc. The schema is a very technical document and is perhaps more easily understood via the table in the echoSMs <a href="../schema/data_store_schema/">documentation</a> and an <a href="https://github.com/ices-tools-dev/echoSMs/tree/main/data_store/resources">example file</a>.</p>
<p>Your dataset files can be validated against the datastore schema using online validators (e.g., <a href="https://www.jsonschemavalidator.net/">here</a>, <a href="https://jsonschema.dev/">here</a>, or <a href="https://www.liquid-technologies.com/online-json-schema-validator">here</a>), or within your own code using a JSON schema validation library (e.g., <a href="https://github.com/Stranger6667/jsonschema/tree/master/crates/jsonschema-py">jsonschema-rs</a> for Python and <a href="https://cran.r-project.org/web/packages/jsonvalidate/vignettes/jsonvalidate.html">jsonvalidate</a> for R). It is not necessary to validate your data before submitting it to the datastore, but it will help the uploading happen faster (a validation is done during the uploading process and any dataset format problems will be identified then).</p>
<h3 id="shapes">Shapes</h3>
<p>Most anatomical scattering models use one of these three-dimensional representations:</p>
<ul>
<li>3D triangulated surface meshes,</li>
<li>dorsal and ventral outlines,</li>
<li>3D grids of cuboids (voxels).</li>
</ul>
<p>Some models use multiple shapes for a single specimen (e.g., a fish body and swimbladder) and multiple shapes per specimen are permitted. Additional shape formats can be added as required (e.g., tetrahedrons as used by the <a href="https://doi.org/10.1115/1.4067286">TetraScatt</a> scattering model).</p>
<table>
<thead>
<tr>
<th>Shape data type</th>
<th>Realisation</th>
<th>Models that use this</th>
<th>Example from datastore</th>
<th>Material properties</th>
</tr>
</thead>
<tbody>
<tr>
<td>surface</td>
<td>3D triangular surface mesh</td>
<td>BEM, KA</td>
<td><a href="https://echosms-data-store-app-ogogm.ondigitalocean.app/v2/specimen/GJM003_HOK_hok108/data">data</a>, <a href="https://echosms-data-store-app-ogogm.ondigitalocean.app/v2/specimen/GJM003_HOK_hok108/image">image</a></td>
<td>ρ and c per shape</td>
</tr>
<tr>
<td>outline</td>
<td>Dorsal and ventral outlines along a curved centreline</td>
<td>KRM, DWBA, DCM</td>
<td><a href="https://echosms-data-store-app-ogogm.ondigitalocean.app/v2/specimen/CLAY_HORNE_A/data">data</a>, <a href="https://echosms-data-store-app-ogogm.ondigitalocean.app/v2/specimen/CLAY_HORNE_A/image">image</a></td>
<td>ρ and c per shape (KRM) or per section (DWBA)</td>
</tr>
<tr>
<td>voxels</td>
<td>3D rectangular grid</td>
<td>FEM</td>
<td><a href="https://echosms-data-store-app-ogogm.ondigitalocean.app/v2/specimen/GJM001_2/data">data</a>, <a href="https://echosms-data-store-app-ogogm.ondigitalocean.app/v2/specimen/GJM001_2/image">image</a></td>
<td>ρ and c for each voxel</td>
</tr>
<tr>
<td>categorised voxels</td>
<td>categorised 3D rectangular grid</td>
<td>PT-DWBA</td>
<td><a href="https://echosms-data-store-app-ogogm.ondigitalocean.app/v2/specimen/test_categorical_1/data">data</a>, <a href="https://echosms-data-store-app-ogogm.ondigitalocean.app/v2/specimen/test_categorical_1/image">image</a></td>
<td>ρ and c for each category</td>
</tr>
</tbody>
</table>
<details class="note" open="open">
<summary>Note</summary>
<p>The outline shape is a generalised form of the shape definition used for several models:</p>
<ul>
<li>KRM: non-circular cross-sections along a straight centreline</li>
<li>DWBA: circular cross-sections along a curved centreline</li>
<li>DCM: circular cross-sections along a straight or curved centreline</li>
</ul>
</details>
<h4 id="shape-data-structure">Shape data structure</h4>
<p>The shape data format is formally specified in the echoSMs anatomical data store schema, but some additional explanatory notes, utility code, and examples are provided here.</p>
<h5 id="surface">Surface</h5>
<p>The <code>surface</code> format contains a 3D triangular surface mesh. The mesh is represented with three numeric arrays (<code>x</code>, <code>y</code>, and <code>z</code>) for the x, y, and z coordinates of the surface nodes, three integer arrays (<code>facets_0</code>, <code>facets_1</code>, <code>facets_2</code>) that index into the x, y, and z arrays and specify the nodes that make up individual triangles, and three arrays that give the outward unit normal vector for each triangle (<code>normals_x</code>, <code>normals_y</code>, and <code>normals_z</code>). The lengths of the facets and normals arrays must all be the same.</p>
<details class="note" open="open">
<summary>Note</summary>
<p>Some scattering models require a closed 3D surface mesh (i.e., without holes), but the <code>surface</code> format does not enforce this.</p>
</details>
<p>EchoSMs provides a function, <a class="autorefs autorefs-internal" title="            surface_from_stl(stl_file, dim_scale=1.0, name='body', boundary='soft')" href="../api_reference/#echosms.utils_datastore.surface_from_stl">surface_from_stl()</a>, to convert an <a href="https://en.wikipedia.org/wiki/STL_(file_format)">STL</a> file into the echoSMs surface shape format:</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">echosms</span><span class="w"> </span><span class="kn">import</span> <span class="n">surface_from_stl</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="n">shape</span> <span class="o">=</span> <span class="n">surface_from_stl</span><span class="p">(</span><span class="s1">&#39;A.stl&#39;</span><span class="p">,</span> <span class="n">dim_scale</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;body&#39;</span><span class="p">,</span> <span class="n">boundary</span><span class="o">=</span><span class="s1">&#39;soft&#39;</span><span class="p">)</span>
</span></code></pre></div>
<p>This shape can then be combined with specimen metadata and written to a TOML file ready for loading into the echoSMs datastore:</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">tomli_w</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="c1"># Create specimen metadata and add in the shape</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="n">specimens</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;specimens&#39;</span><span class="p">:</span> 
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>                <span class="p">[{</span><span class="s1">&#39;specimen_id&#39;</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>                  <span class="s1">&#39;specimen_condition&#39;</span><span class="p">:</span> <span class="s1">&#39;unknown&#39;</span><span class="p">,</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>                  <span class="s1">&#39;length&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>                  <span class="s1">&#39;weight&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>                  <span class="s1">&#39;sex&#39;</span><span class="p">:</span> <span class="s1">&#39;unknown&#39;</span><span class="p">,</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>                  <span class="s1">&#39;length_type&#39;</span><span class="p">:</span> <span class="s1">&#39;unknown&#39;</span><span class="p">,</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>                  <span class="s1">&#39;shape_type&#39;</span><span class="p">:</span> <span class="s1">&#39;surface&#39;</span><span class="p">,</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>                  <span class="s1">&#39;shapes&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">shape</span><span class="p">]}]}</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="c1"># Write to a TOML file</span>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;specimen_A.toml&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>    <span class="n">tomli_w</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">specimens</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
</span></code></pre></div>
<p>There is a complimentary function to <code>surface_from_stl()</code> that takes the echoSMs datastore surface format and returns a <a href="https://trimesh.org/">trimesh</a> object (see <a class="autorefs autorefs-internal" title="            mesh_from_datastore(shapes)" href="../api_reference/#echosms.utils_datastore.mesh_from_datastore">mesh_from_datastore()</a>), from which an STL file can be written.</p>
<h5 id="outline">Outline</h5>
<p>The <code>outline</code> format is a generalised structure that can represent the outline shapes typically used for the DWBA, KRM, and DCM models. It uses a centreline (defined by a list of (<em>x</em>, <em>y</em>, <em>z</em>) coordinates) and a height and width at each centreline point. The <a class="autorefs autorefs-internal" title="Coordinate systems" href="../conventions/#coordinate-systems">echoSMs coordinate system</a> is used so heights are along the <em>z</em>-axis and widths along the <em>y</em>-axis. Five numeric arrays are used to represent the shape in the echSMs format with names of <code>x</code>, <code>y</code>, <code>z</code>, <code>height</code>, and <code>width</code>. The lengths of these arrays must all be the same.</p>
<p>EchoSMs provides functions to convert to and from the outline format into the specific formats typically required by the DWBA, KRM, and DCM models - see the examples below.</p>
<p>Historically, outline shapes used in the KRM model used a centreline coincident with the <em>x</em>-axis (i.e., <em>y</em> = <em>z</em> = 0), upper and lower shape distances measured from the centreline, and symmetric widths. This form of outline shape can be converted to the datastore form using an echoSMs utility function:</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">echosms</span><span class="w"> </span><span class="kn">import</span> <span class="n">outline_from_krm</span><span class="p">,</span> <span class="n">KRMdata</span><span class="p">,</span> <span class="n">plot_specimen</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="c1"># Get a fish shape from the old echoSMs KRM datastore</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="n">data</span> <span class="o">=</span> <span class="n">KRMdata</span><span class="p">()</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="n">cod</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">model</span><span class="p">(</span><span class="s1">&#39;Cod&#39;</span><span class="p">)</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="n">cod</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="c1"># Convert the shape to the echoSMs anatomical datastore form. To keep</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="c1"># this example brief, only do the body outline and ignore any inclusions.</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="hll"><span class="n">s</span> <span class="o">=</span> <span class="n">outline_from_krm</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">cod</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">x</span><span class="p">,</span>
</span></span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="hll">                     <span class="n">height_u</span> <span class="o">=</span> <span class="n">cod</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">z_U</span><span class="p">,</span>
</span></span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="hll">                     <span class="n">height_l</span> <span class="o">=</span> <span class="n">cod</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">z_L</span><span class="p">,</span>
</span></span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="hll">                     <span class="n">width</span> <span class="o">=</span> <span class="n">cod</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">w</span><span class="p">,</span>
</span></span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="hll">                     <span class="n">name</span><span class="o">=</span><span class="s1">&#39;body&#39;</span><span class="p">,</span>
</span></span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="hll">                     <span class="n">boundary</span><span class="o">=</span><span class="n">cod</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">boundary</span><span class="p">)</span>
</span></span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="c1"># Add in other shape attributes to give a shape that contains all</span>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="c1"># those required by the schema.</span>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="n">s</span><span class="p">[</span><span class="s1">&#39;sound_speed_compressional&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cod</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">rho</span>
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a><span class="n">s</span><span class="p">[</span><span class="s1">&#39;mass_density&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cod</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">c</span>
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a>
</span><span id="__span-2-22"><a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a><span class="c1"># The shape is now in the echoSMs anatomical datastore form with</span>
</span><span id="__span-2-23"><a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a><span class="c1"># (x,y,z) points defining the centreline and widths and heights for</span>
</span><span id="__span-2-24"><a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a><span class="c1"># the body size.</span>
</span><span id="__span-2-25"><a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</span><span id="__span-2-26"><a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a>
</span><span id="__span-2-27"><a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a><span class="c1"># Add the shape to some example specimen metadata</span>
</span><span id="__span-2-28"><a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a><span class="n">specimens</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;specimens&#39;</span><span class="p">:</span> 
</span><span id="__span-2-29"><a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a>                <span class="p">[{</span><span class="s1">&#39;specimen_id&#39;</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span>
</span><span id="__span-2-30"><a id="__codelineno-2-30" name="__codelineno-2-30" href="#__codelineno-2-30"></a>                  <span class="s1">&#39;specimen_condition&#39;</span><span class="p">:</span> <span class="s1">&#39;unknown&#39;</span><span class="p">,</span>
</span><span id="__span-2-31"><a id="__codelineno-2-31" name="__codelineno-2-31" href="#__codelineno-2-31"></a>                  <span class="s1">&#39;length&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
</span><span id="__span-2-32"><a id="__codelineno-2-32" name="__codelineno-2-32" href="#__codelineno-2-32"></a>                  <span class="s1">&#39;weight&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
</span><span id="__span-2-33"><a id="__codelineno-2-33" name="__codelineno-2-33" href="#__codelineno-2-33"></a>                  <span class="s1">&#39;sex&#39;</span><span class="p">:</span> <span class="s1">&#39;unknown&#39;</span><span class="p">,</span>
</span><span id="__span-2-34"><a id="__codelineno-2-34" name="__codelineno-2-34" href="#__codelineno-2-34"></a>                  <span class="s1">&#39;length_type&#39;</span><span class="p">:</span> <span class="s1">&#39;unknown&#39;</span><span class="p">,</span>
</span><span id="__span-2-35"><a id="__codelineno-2-35" name="__codelineno-2-35" href="#__codelineno-2-35"></a>                  <span class="s1">&#39;shape_type&#39;</span><span class="p">:</span> <span class="s1">&#39;outline&#39;</span><span class="p">,</span>
</span><span id="__span-2-36"><a id="__codelineno-2-36" name="__codelineno-2-36" href="#__codelineno-2-36"></a>                  <span class="s1">&#39;shapes&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">s</span><span class="p">]}]}</span>
</span><span id="__span-2-37"><a id="__codelineno-2-37" name="__codelineno-2-37" href="#__codelineno-2-37"></a>
</span><span id="__span-2-38"><a id="__codelineno-2-38" name="__codelineno-2-38" href="#__codelineno-2-38"></a><span class="c1"># And use an echoSMs function to plot the shape </span>
</span><span id="__span-2-39"><a id="__codelineno-2-39" name="__codelineno-2-39" href="#__codelineno-2-39"></a><span class="c1"># (to compare to the one from KRMdata above()).</span>
</span><span id="__span-2-40"><a id="__codelineno-2-40" name="__codelineno-2-40" href="#__codelineno-2-40"></a><span class="n">plot_specimen</span><span class="p">(</span><span class="n">specimens</span><span class="p">[</span><span class="s1">&#39;specimens&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">dataset_id</span><span class="o">=</span><span class="s1">&#39;Cod&#39;</span><span class="p">)</span>
</span></code></pre></div>
<p>In the same way as for the surface mesh example above, the 
specimen data can be written to a TOML file.</p>
<p>DBWA model implementations tend to use a centreline that is curved in the <em>z</em>-axis and body cross-sections that are circular, so there is a separate function for converting DWBA shapes:</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">echosms</span><span class="w"> </span><span class="kn">import</span> <span class="n">outline_from_dwba</span><span class="p">,</span> <span class="n">DWBAdata</span><span class="p">,</span> <span class="n">plot_specimen</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="c1"># Get a krill shape from the old echoSMs DWBA datastore</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="n">data</span> <span class="o">=</span> <span class="n">DWBAdata</span><span class="p">()</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="n">krill</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">model</span><span class="p">(</span><span class="s1">&#39;Generic krill (McGehee 1998)&#39;</span><span class="p">)</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="n">krill</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="c1"># Convert the shape to the echoSMs anatomical datastore form.</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="hll"><span class="n">s</span> <span class="o">=</span> <span class="n">outline_from_dwba</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">krill</span><span class="o">.</span><span class="n">rv_pos</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span>
</span></span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="hll">                      <span class="n">z</span> <span class="o">=</span> <span class="o">-</span><span class="n">krill</span><span class="o">.</span><span class="n">rv_pos</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">],</span>
</span></span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="hll">                      <span class="n">radius</span> <span class="o">=</span> <span class="n">krill</span><span class="o">.</span><span class="n">a</span><span class="p">,</span>
</span></span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="hll">                      <span class="n">name</span><span class="o">=</span><span class="s1">&#39;body&#39;</span><span class="p">,</span> <span class="n">boundary</span><span class="o">=</span><span class="s1">&#39;soft&#39;</span><span class="p">)</span>
</span></span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="c1"># Add in other shape attributes to give enough information to run a model.</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="n">s</span><span class="p">[</span><span class="s1">&#39;sound_speed_ratio&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">krill</span><span class="o">.</span><span class="n">h</span>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="n">s</span><span class="p">[</span><span class="s1">&#39;mass_density_ratio&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">krill</span><span class="o">.</span><span class="n">g</span>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="c1"># The shape is now in the echoSMs anatomical datastore form with</span>
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="c1"># (x,y,z) points defining the centreline and widths and heights for</span>
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a><span class="c1"># the body size.</span>
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a><span class="c1"># Add the shape to some example specimen metadata</span>
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a><span class="n">specimens</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;specimens&#39;</span><span class="p">:</span> 
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a>                <span class="p">[{</span><span class="s1">&#39;specimen_id&#39;</span><span class="p">:</span> <span class="s1">&#39;123&#39;</span><span class="p">,</span>
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a>                  <span class="s1">&#39;specimen_condition&#39;</span><span class="p">:</span> <span class="s1">&#39;unknown&#39;</span><span class="p">,</span>
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a>                  <span class="s1">&#39;length&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
</span><span id="__span-3-28"><a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a>                  <span class="s1">&#39;weight&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
</span><span id="__span-3-29"><a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a>                  <span class="s1">&#39;sex&#39;</span><span class="p">:</span> <span class="s1">&#39;unknown&#39;</span><span class="p">,</span>
</span><span id="__span-3-30"><a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a>                  <span class="s1">&#39;length_type&#39;</span><span class="p">:</span> <span class="s1">&#39;unknown&#39;</span><span class="p">,</span>
</span><span id="__span-3-31"><a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a>                  <span class="s1">&#39;shape_type&#39;</span><span class="p">:</span> <span class="s1">&#39;outline&#39;</span><span class="p">,</span>
</span><span id="__span-3-32"><a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a>                  <span class="s1">&#39;shapes&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">s</span><span class="p">]}]}</span>
</span><span id="__span-3-33"><a id="__codelineno-3-33" name="__codelineno-3-33" href="#__codelineno-3-33"></a>
</span><span id="__span-3-34"><a id="__codelineno-3-34" name="__codelineno-3-34" href="#__codelineno-3-34"></a><span class="c1"># And use an echoSMs function to plot the shape </span>
</span><span id="__span-3-35"><a id="__codelineno-3-35" name="__codelineno-3-35" href="#__codelineno-3-35"></a><span class="c1"># (to compare to the one from DWBAdata above()).</span>
</span><span id="__span-3-36"><a id="__codelineno-3-36" name="__codelineno-3-36" href="#__codelineno-3-36"></a><span class="n">plot_specimen</span><span class="p">(</span><span class="n">specimens</span><span class="p">[</span><span class="s1">&#39;specimens&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">dataset_id</span><span class="o">=</span><span class="s1">&#39;Krill&#39;</span><span class="p">)</span>
</span></code></pre></div>
<h5 id="voxels">Voxels</h5>
<p>The <code>voxels</code> format contains two 3D matrices, one for density and one for sound speed. The echoSMs representation of a 3D matrix is a doubly-nested list as used by the Numpy package. Rows (numpy axis 0) correspond to the echoSMs <em>z</em>-axis, columns (numpy axis 1) to the echoSMs <em>x</em>-axis, and slices (numpy axis 2) to the echoSMs <em>y</em>-axis.</p>
<p>Numpy's <code>tolist()</code> method is used to convert between a Python numpy 3D matrix and the echoSMs structure:</p>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="c1"># Get 3D matrices of sound speed and density</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="n">rho</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">...</span><span class="p">])</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">...</span><span class="p">])</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="c1"># Put into a dict as per the echoSMs datastore schema</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="n">shape</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;voxel_size&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.005</span><span class="p">,</span> <span class="mf">0.005</span><span class="p">,</span> <span class="mf">0.005</span><span class="p">],</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>         <span class="s1">&#39;mass_density&#39;</span><span class="p">:</span> <span class="n">rho</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>         <span class="s1">&#39;sound_speed_compressional&#39;</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">tolist</span><span class="p">()}</span>
</span></code></pre></div>
If using Xarrays rather than Numpy, you'll need to use the Xarray <code>.values</code> attribute to get the Numpy matrix and then call <code>tolist()</code>:</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">shape</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;voxel_size&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.005</span><span class="p">,</span> <span class="mf">0.005</span><span class="p">,</span> <span class="mf">0.005</span><span class="p">],</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>         <span class="s1">&#39;mass_density&#39;</span><span class="p">:</span> <span class="n">rho</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>         <span class="s1">&#39;sound_speed_compressional&#39;</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()}</span>
</span></code></pre></div>
<h5 id="categorised-voxels">Categorised voxels</h5>
<p>The <code>categorised voxels</code> format uses a single 3D matrix of material property categories (named <code>categories</code> in the schema) - for echoSMs these categories must be integers starting at 0. The categories define regions of homogenous material properties in the specimen. The category value is used as a zero-based index into associated <code>mass_density</code> and <code>sounds_speed_compressional</code> vectors. Hence, the length of the density and sound speed arrays must be at least one more than the highest category number in <code>categories</code>. The category matrix is structured the same way as for the voxels format (see above).</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.top", "content.action.view", "content.code.copy", "search.suggest", "search.highlight", "search.share"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
      
        <script src="../javascripts/tablesort.js"></script>
      
    
  </body>
</html>